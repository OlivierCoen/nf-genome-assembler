report_comment: >
  This report has been generated by the <a href="https://github.com/EGCE/genomeassembler/tree/dev" target="_blank">EGCE/genomeassembler</a>
  analysis pipeline.

report_section_order:
  quast_summary:
    order: 1300
  busco_summary:
    order: 1201
  busco:
    order: 1200
  contig_size_distributions:
    order: 1199
  merqury_assembly_qv:
    order: 1099
  merqury_contigs_qv:
    order: 1098
  nanoq_report:
    order: 1002
  fastqc_prepared:
    order: 1001
  fastqc_raw:
    order: 1000
  "EGCE-genomeassembler-methods-description":
    order: -1000
  software_versions:
    order: -1001
  "EGCE-genomeassembler-summary":
    order: -1002

run_modules:
  - busco
  - custom_content
  - fastqc

module_order:
  - fastqc:
      anchor: "fastqc_raw"
      name: "FastQC (raw)"
      info: "This section of the report shows FastQC results before adapter trimming."
      path_filters:
        - "*_raw_fastqc.zip"
  - fastqc:
      anchor: "fastqc_prepared"
      name: "FastQC (trimmed and / or filtered)"
      info: "This section of the report shows FastQC results after adapter trimming and / or filtering."
      path_filters:
        - "*_prepared_fastqc.zip"

export_plots: true

disable_version_detection: true

skip_generalstats: true

ignore_images: false

custom_data:
  busco_summary:
    section_name: "BUSCO summary"
    file_format: "tsv"
    #sort_rows: false
    description: |
      BUSCO summary
    plot_type: "table"

  nanoq_report:
    section_name: "NanoQ report"
    file_format: "tsv"
    #sort_rows: false
    description: |
      Summary of statistics computed by NanoQ.
    plot_type: "table"

  merqury_assembly_qv:
    section_name: "Assembly Quality Value"
    parent_id: merqury
    parent_name: "Merqury"
    parent_description: "Merqury QC statistics"
    file_format: "tsv"
    description: |
      Assembly Quality Value as computed by Merqury. The higher the value, the better the quality of the assembly.
      QV = −10⋅log 10 ( error rate )
    plot_type: "table"
    headers:
      assembly:
        title: "Assembly"
      unique_kmers:
        title: "Unique kmers"
      total_kmers:
        title: "Total kmers"
      qv:
        title: "QV"
      error_rate:
        title: "Error rate"
        format: "{:,e}"

  merqury_contigs_qv:
    section_name: "Contig Quality Value"
    parent_id: merqury
    parent_name: "Merqury"
    parent_description: "Merqury QC statistics"
    file_format: "tsv"
    sort_rows: false
    description: |
      Quality Value  per contig as computed by Merqury. The higher the value, the better the quality of the contig.
      QV = −10⋅log 10 ( error rate )
    plot_type: "table"
    headers:
      assembly:
        title: "Assembly"
      contig:
        title: "Contig"
      unique_kmers:
        title: "Unique kmers"
      total_kmers:
        title: "Total kmers"
      qv:
        title: "QV"
      error_rate:
        title: "Error rate"
        format: "{:,e}"

  quast_summary:
    section_name: "Quast summary"
    file_format: "tsv"
    description: |
      Summary of statistics computed by QUAST.
    plot_type: "table"

  nx_assembly_stats:
    section_name: "Nx "
    parent_id: scaffold_statistics
    parent_name: "Scaffold Statistics"
    parent_description: "Nx and Lx statistics computed on scaffoled contigs"
    file_format: "csv"
    plot_type: "linegraph"
    description: |
      Nx Assembly Statistics
    pconfig:
      title: "Nx values (N0 -> N100)"
      ylab: "Scaffold size"
      xlab: "Nx"

  lx_assembly_stats:
    section_name: "Lx Assembly Statistics"
    parent_id: scaffold_statistics
    parent_name: "Scaffold Statistics"
    parent_description: "Nx and Lx statistics computed on scaffoled contigs"
    file_format: "csv"
    plot_type: "linegraph"
    description: |
      Lx Assembly Statistics
    pconfig:
      title: "Lx values (L0 -> L100)"
      ylab: "Nb scaffolds"
      xlab: "Lx"

  hic_contact_maps:
    section_name: "Final Hi-C Contact Map"
    description: |
      Hi-C Contact Map obtained after scaffolding

sp:
  busco_summary:
    fn: "*-busco.batch_summary.txt"
  nanoq_report:
    fn: "*_nanoq_summary.tsv"
  merqury_assembly_qv:
    fn: "*_qv_assembly.tsv"
  merqury_contigs_qv:
    fn: "*_qv_contigs.tsv"
  quast_summary:
    fn: "*_quast_report.tsv"
  nx_assembly_stats:
    fn: "*.nx_assembly_stats.csv"
  lx_assembly_stats:
    fn: "*.lx_assembly_stats.csv"
  hic_contact_maps:
    fn: "*.pretextsnapshot.png"
